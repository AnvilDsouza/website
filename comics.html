<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>The AI PM Diaries</title>

  <!-- Privacy-friendly analytics by Plausible -->
  <script async src="https://plausible.io/js/pa-tlnY55eUHOshMt4VCy0tC.js"></script>
  <script>
    window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(i){plausible.o=i||{}};
    plausible.init();
  </script>
  
  <style>
    :root{
      --bg:#0f1720;
      --card:#0b1220;
      --muted:#9aa6b2;
      --accent:#0b84ff;
      --glass: rgba(255,255,255,0.04);
      --radius:12px;
      --gap:18px;
      --max-width:1100px;
    }
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,-apple-system,Arial;color:#e6eef6;background:linear-gradient(180deg,var(--bg), #071021);}
    .wrap{max-width:var(--max-width);margin:36px auto;padding:20px;}
    header{display:flex;align-items:flex-start;gap:18px; margin-bottom:18px;}
    header h1{font-size:20px;margin:0}
    header p{margin:4px 0 0;color:var(--muted);font-size:14px}

    /* grid */
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--gap);margin-top:20px}
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:var(--radius);
      padding:14px;
      box-shadow: 0 6px 18px rgba(2,6,23,0.6);
      cursor:pointer;
      transition:transform .18s ease, box-shadow .18s ease;
      display:flex;
      gap:12px;
      align-items:center;
      border:1px solid rgba(255,255,255,0.03);
    }
    .card:hover{ transform:translateY(-6px); box-shadow: 0 18px 50px rgba(2,6,23,0.75); }
    .cover {
      width:86px;
      height:116px;
      border-radius:8px;
      flex:0 0 86px;
      display:flex;align-items:flex-end;padding:8px;color:#fff;font-weight:700;
      box-shadow: inset 0 -6px 20px rgba(0,0,0,0.25);
    }
    /* simple procedural cover styles — variety using nth-child */
    .cover::after{ content:""; position:absolute; inset:0; border-radius:8px; mix-blend-mode:overlay; opacity:.08; }
    .card .meta{flex:1}
    .title{font-size:15px;margin:0 0 6px 0; color:#fff;line-height:1.1}
    .subtitle{font-size:13px;color:var(--muted);margin:0}
    .small{font-size:12px;color:var(--muted);margin-top:8px}

    /* modal preview */
    .modal {
      position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:9999;
      background:linear-gradient(0deg, rgba(2,6,23,0.7), rgba(2,6,23,0.85));
      padding:28px;
    }
    .modal-card{
      width: min(880px, 95%); background: linear-gradient(180deg, #0d1720, #091019); border-radius:14px; padding:20px; box-shadow: 0 30px 80px rgba(2,6,23,0.9);
      display:grid; grid-template-columns: 360px 1fr; gap:18px; align-items:start;
    }
    .preview {
      height:480px; border-radius:10px; overflow:hidden; display:flex; flex-direction:column; justify-content:flex-end; padding:16px; color:#fff;
      box-shadow: inset 0 -24px 48px rgba(0,0,0,0.45);
    }
    .details{ color:#e8eef8 }
    .modal h2{ margin:0 0 8px 0; font-size:20px }
    .btns{ margin-top:18px; display:flex; gap:10px }
    .btn {
      display:inline-block;padding:10px 14px;border-radius:10px;text-decoration:none;font-weight:600;color:#07203a;background:var(--accent);
      box-shadow: 0 6px 18px rgba(11,132,255,0.12);
    }
    .btn.secondary{
      background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.04);
    }

    /* responsive */
    @media (max-width:880px){
      .modal-card{ grid-template-columns: 1fr; }
      .preview{ height:320px }
      .cover{ width:72px; height:98px }
    }
  </style>
</head>
<body>
  <div class="wrap" role="main">
    <header>
      <div>
        <h1>The AI PM Diaries — Comic Series</h1>
        <p>Click any cover to preview. From the preview you can open the full comic in Gemini (new tab).</p>
      </div>
    </header>

    <section class="grid" id="grid">
      <!-- cards are generated by JS -->
    </section>
  </div>

  <!-- Modal -->
  <div id="modal" class="modal" role="dialog" aria-hidden="true">
    <div class="modal-card" role="document">
      <div class="preview" id="preview">
        <!-- cover canvas -->
        <div style="font-weight:700;font-size:22px;line-height:1.05" id="previewTitle"></div>
        <div style="margin-top:10px;color:rgba(255,255,255,0.85)" id="previewDesc"></div>
      </div>
      <div class="details">
        <h2 id="detailTitle"></h2>
        <p id="detailText" style="color:var(--muted)"></p>

        <div class="btns">
          <a id="openLink" class="btn" target="_blank" rel="noopener noreferrer">Open in Gemini</a>
          <button id="closeModal" class="btn secondary">Close</button>
        </div>

        <!-- <p class="small" style="margin-top:12px;color:var(--muted)">Note: If Gemini link blocks embedding, it will open in a new tab. You can update the script later to replace the preview image or add subtitles.</p> -->
      </div>
    </div>
  </div>

  <script>
    // Data: title + gemini share URL
    const comics = [
      ["MVP","https://g.co/gemini/share/6d40c85b519e","assets/comics/MVP.jpg"],
      ["The Ever-Expanding Horizon","https://g.co/gemini/share/eab63c35d766","assets/comics/ExpandingHorizon.jpg"],
      ["99% Accuracy, 0% Adoption","https://g.co/gemini/share/d6a7388e02d7","assets/comics/AccuracyAdoption.jpg"],
      ["Hello, I’m The Data (and I Have Issues)","https://g.co/gemini/share/de6cbdfa3fa8","assets/comics/Data.jpg"],
      ["The A/B Test That Became A–Z","https://g.co/gemini/share/63eb6d03df5a","assets/comics/ABTesting.jpg"],
      ["Explain It Like I’m a Regulator","https://g.co/gemini/share/b49f85c853e1","assets/comics/Regulator.jpg"],
      ["Prompt Injection Potluck","https://g.co/gemini/share/a05d20888b74","assets/comics/Potluck.jpg"],
      ["Free Trial to Production (FTTP)","https://g.co/gemini/share/17e787ac48a5","assets/comics/Trial.jpg"],
      ["The Drift","https://g.co/gemini/share/a2d71a5e2b2e","assets/comics/Drift.jpg"],
      ["The OKR Bermuda Triangle","https://g.co/gemini/share/2977b1a03727","assets/comics/OKR.jpg"],
      ["Ethics Board vs. Board Ethics","https://g.co/gemini/share/967538b4a886","assets/comics/Standup.jpg"],
      ["Feature-Creep vs. Value-Chop","https://g.co/gemini/share/20c2102eda4f","assets/comics/FeatureCreep.jpg"],
      ["GDPR Peekaboo","https://g.co/gemini/share/7ce7d68cd892","assets/comics/GDPR.jpg"],
      ["Vendor Promise, Integration Purgatory","https://g.co/gemini/share/4d20a65f3042","assets/comics/VendorAE.jpg"],
      ["GPU Budget vs. Coffee Budget","https://g.co/gemini/share/c940840abac1","assets/comics/GPUCoffee.jpg"]
    ];

    // Simple cover generation: procedural gradient + short title line
    function makeCoverElement(title, idx, img){
      const cover = document.createElement('div');
      cover.className = 'cover c-'+((idx%15)+1);
      cover.style.position = 'relative';
      cover.style.display = 'flex';
      cover.style.alignItems = 'flex-end';
      cover.style.padding = '10px';
      cover.style.backgroundImage = 'url('+img+')';
      cover.style.backgroundSize = "contain";
      cover.style.backgroundRepeat = "no-repeat";
      return cover;
    }

    // Build grid
    const grid = document.getElementById('grid');
    comics.forEach((c, i, u) => {
      const [title, url, img] = c;
      const card = document.createElement('article');
      card.className = 'card';
      card.setAttribute('tabindex', '0');
      card.dataset.title = title;
      card.dataset.url = url;
      card.dataset.background = img;
      
      // cover
      const cover = makeCoverElement(title, i, img);
      // meta
      const meta = document.createElement('div'); meta.className='meta';
      const h = document.createElement('h3'); h.className='title'; h.innerText = title;
      const s = document.createElement('div'); s.className='subtitle'; s.innerText = 'The AI PM Diaries';
      meta.appendChild(h); meta.appendChild(s);
      // append
      card.appendChild(cover);
      card.appendChild(meta);

      // click handler
      card.addEventListener('click', () => openPreview(title, url, i, img));
      card.addEventListener('keypress', (ev) => { if(ev.key === 'Enter' || ev.key === ' ') openPreview(title,url,i); });

      grid.appendChild(card);
    });

    // modal logic
    const modal = document.getElementById('modal');
    const preview = document.getElementById('preview');
    const detailTitle = document.getElementById('detailTitle');
    const detailText = document.getElementById('detailText');
    const openLink = document.getElementById('openLink');
    const closeModal = document.getElementById('closeModal');
    const previewTitle = document.getElementById('previewTitle');
    const previewDesc = document.getElementById('previewDesc');

    function openPreview(title, url, idx, img){
      // populate preview (procedural large cover)
      preview.style.backgroundImage = 'url('+img+')';
      preview.style.backgroundSize = "contain";
      preview.style.backgroundRepeat = "no-repeat";
      previewTitle.innerText = title;
      previewDesc.innerText = "A short preview of '"+title+"'. Click Open in Gemini to view the full comic.";
      detailTitle.innerText = title;
      detailText.innerText = "Interactive comic series by Anvil D'Souza. Each strip distills a real product leadership lesson — click Open to read in Gemini.";
      openLink.href = url;
      openLink.setAttribute('aria-label','Open '+title+' in Gemini (new tab)');
      modal.style.display = 'flex';
      modal.setAttribute('aria-hidden','false');
      // trap focus (basic)
      closeModal.focus();
    }

    closeModal.addEventListener('click', () => {
      modal.style.display = 'none'; modal.setAttribute('aria-hidden','true');
    });
    // close when clicking outside modal-card
    modal.addEventListener('click', (ev) => {
      if(ev.target === modal){ modal.style.display = 'none'; modal.setAttribute('aria-hidden','true'); }
    });
    // keyboard support
    window.addEventListener('keydown', (ev) => {
      if(ev.key === 'Escape' && modal.style.display === 'flex'){ modal.style.display = 'none'; modal.setAttribute('aria-hidden','true'); }
    });

    document.addEventListener('DOMContentLoaded', function () {
      // Select all clickable comics
      const comics = document.querySelectorAll('.card');
      
      comics.forEach(comic => {
        comic.addEventListener('click', function () {
          const comicName = comic.getAttribute('data-title') || 'Unknown_Comic';
          
          // Fire Plausible event
          if (typeof plausible !== 'undefined') {
            plausible('Comic Opened', { props: { name: comicName } });
          }
        });
      });
    });
    
  </script>
</body>
</html>

